@page "/"

<PageTitle>Home</PageTitle>

<TagCloud CurrentUser="_currentUser"/>
<MudDivider/>
<TopPicks CurrentUser="_currentUser"/>
<MudDivider/>
@if (_currentUser is null)
{
    <MudProgressCircular Class="d-flex justify-center align-center"/>
}
else
{
    <AuthorizeView>
        @*Need to change this component*@
        <MudButton
            StartIcon="@Icons.Material.Filled.Add"
            Variant="Variant.Filled"
            OnClick="NewTemplate"
            Color="Color.Primary"
            Class="my-4">
            Create
        </MudButton>
        
        <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-4">
            <MudTabPanel Text="Templates">
                <TemplateList UserId="@_currentUser.Id"/>
            </MudTabPanel>
            <MudTabPanel Text="Forms">
                <FormList UserId="@_currentUser.Id"/>
            </MudTabPanel>
        </MudTabs>
    </AuthorizeView>
}
